{% load static %}

<style>
.whatsapp-float {
    position: fixed;
    width: 60px; /* Adjust size as needed */
    height: 60px; /* Adjust size as needed */
    right: 20px; /* Distance from the right edge */
    transform: translateY(-50%); /* Pulls the button up by half its height to perfectly center it */
    background-color: #25d366; /* WhatsApp brand color */
    color: #FFF;
    border-radius: 50%; /* Makes the button round */
    text-align: center;
    font-size: 30px; /* Icon size */
    box-shadow: 2px 2px 3px #999;
    z-index: 100; /* Ensures it stays on top of other elements */
    display: flex; /* Helps in centering the icon inside the button */
    align-items: center; /* Vertically centers the icon */
    justify-content: center; /* Horizontally centers the icon */
}

.my-float {
    /* No additional styling needed here due to flexbox centering in the parent */
}

/* Optional: Add a hover effect */
.whatsapp-float:hover {
    opacity: 0.8;
}

/* Optional: Media query for mobile responsiveness (adjust as needed) */
@media (max-width: 768px) {
    .whatsapp-float {
        width: 80px;
        height: 80px;
        right: 15px;
        font-size: 24px;
    }
}
</style>


<!-- ====================== -->
<!-- DESKTOP VIEW -->
<!-- ====================== -->
<header class="hidden lg:block sticky top-0 z-50"
  style="background: {{ settings_obj.header_footer_color }}; color: {{ settings_obj.text_color }}">

  <div class="max-w-7xl mx-auto px-6 py-3 flex items-center justify-between">

    <!-- LOGO -->
    <a href="/" class="flex items-center gap-2">
      {% if settings_obj.logo %}
        <img src="{{ settings_obj.logo.url }}"
             alt="{{ settings_obj.site_name }}"
             class="h-14 object-contain">
      {% else %}
        <span class="text-2xl font-bold">{{ settings_obj.site_name }}</span>
      {% endif %}
    </a>

    <!-- NAVIGATION -->
    <nav class="flex items-center gap-8 font-medium text-base">
      <a href="/" class="hover:opacity-80 {% if request.path == '/' %}font-semibold{% endif %}">Home</a>
      <a href="{% url 'about' %}" class="hover:opacity-80">About</a>
      <a href="/projects/" class="hover:opacity-80">Projects</a>
      <a href="/blogs/" class="hover:opacity-80">Blogs</a>
      <a href="{% url 'faq' %}" class="hover:opacity-80">FAQ</a>
      <a href="{% url 'contact' %}" class="hover:opacity-80">Contact</a>
    </nav>

    <!-- CTA -->
    <div class="flex items-center gap-3">

      <!-- Call -->
      <a href="tel:{{ settings_obj.phone }}"
        class="px-4 py-2 rounded-lg border border-white/30 hover:bg-white/10 transition">
        ðŸ“ž Call Now
      </a>

      <!-- WhatsApp -->
      <a href="https://wa.me/{{ settings_obj.whatsapp_number }}"
         target="_blank"
         class="px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition">
        WhatsApp
      </a>

    </div>

  </div>
</header>





<!-- ====================== -->
<!-- MOBILE VIEW -->
<!-- ====================== -->
<div class="md:hidden text-white">
  <div class="md:hidden text-white">
  <header class="flex items-center justify-between px-4 py-2 bg-[{{settings_obj.header_footer_color}}]">
  <!-- LEFT SECTION -->
  <div class="flex items-center gap-2">
    <!-- Menu Icon -->
    <button id="menuBtn">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
        stroke-width="1.5" stroke="currentColor" class="w-7 h-7 text-white">
        <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16m-7 6h7" />
      </svg>
    </button>

   
    <!-- City Dropdown -->
    <div class="relative ml-2">
      <select
        class="bg-[{{settings_obj.header_footer_color   }}] text-white text-sm font-medium focus:outline-none appearance-none cursor-pointer pr-5"
        style="background-image: url('data:image/svg+xml;utf8,<svg fill=\'white\' height=\'12\' viewBox=\'0 0 24 24\' width=\'12\' xmlns=\'http://www.w3.org/2000/svg\'><path d=\'M7 10l5 5 5-5z\'/></svg>'); background-repeat: no-repeat; background-position: right center;">
        
        {% for city in cities %}
          <option {% if city.name == current_city %}selected{% endif %}>
            {{ city.name }}
          </option>
        {% empty %}
          <option selected>Mumbai</option>
        {% endfor %}
      </select>
    </div>
  </div>

   <!-- Logo -->
    {% if settings_obj.logo %}
      <img src="{{ settings_obj.logo.url }}" alt="logo" class="h-8 w-16 ml-1">
    {% else %}
      <span class="font-semibold text-lg ml-1">RealEstatePro</span>
    {% endif %}

 
</header>

</div>


  <!-- Slide Menu -->
  <div id="mobileMenu"
    class="fixed top-0 right-0 w-3/4 h-full bg-[#000428] text-white z-50 transform translate-x-full transition-transform duration-300 ease-in-out">
    <div class="flex justify-between items-center px-4 py-3 border-b border-white/20">
      <h2 class="font-bold text-lg">Menu</h2>
      <button id="closeMenu" class="text-gray-300 hover:text-white text-2xl">&times;</button>
    </div>

    <nav class="flex flex-col gap-4 px-6 mt-6 text-base font-medium">
      <a href="/" class="hover:text-[{{ settings_obj.text_color }}] transition">Home</a>
      <a href="{% url "faq" %}" class="hover:text-[{{ settings_obj.text_color }}] transition">FAQ's</a>
      <a href="#" class="hover:text-[{{ settings_obj.text_color }}] transition">Blogs</a>
      <a href="{% url "about" %}" class="hover:text-[{{ settings_obj.text_color }}] transition">About Us</a>
      <a href="#" class="hover:text-[{{ settings_obj.text_color }}] transition">Services</a>
      <a href="{% url "contact" %}" class="hover:text-[{{ settings_obj.text_color }}] transition">Contact Us</a>

    </nav>

    <div class="absolute bottom-8 w-full px-6">
      <button
        class="w-full bg-[Tomato] text-black py-2 rounded-lg font-semibold mb-3 hover:bg-white transition">Sell / Rent Property</button>
        <!-- FLOATING CHAT BUTTON -->
          <button id="chatToggle"
          class="fixed bottom-6 right-6 bg-blue-600 text-white p-4 rounded-full shadow-xl hover:bg-blue-700 transition z-50">
          ðŸ’¬
        </button>

        <!-- CHAT WINDOW -->
        <div id="chatWindow"
          class="hidden fixed bottom-20 right-6 w-80 bg-white rounded-xl shadow-2xl border border-gray-200 overflow-hidden z-50">

          <!-- Header -->
          <div class="bg-blue-600 text-white p-4 flex items-center justify-between">
            <h3 class="font-semibold">Live Chat</h3>
            <button id="chatClose" class="text-white text-xl">&times;</button>
          </div>

          <!-- Messages Area -->
          <div class="p-4 h-64 overflow-y-auto bg-gray-50 text-sm" id="chatMessages">
            <p class="text-gray-500 text-center">Start the conversation...</p>
          </div>

          <!-- Input -->
          <div class="border-t p-3 flex items-center gap-2">
            <input id="chatInput" type="text" placeholder="Type a message..."
              class="w-full border px-3 py-2 rounded-lg text-sm focus:outline-none">
            <button id="sendBtn" class="bg-blue-600 text-white px-3 py-2 rounded-lg">Send</button>
          </div>
        </div>


    </div>
  </div>

  <!-- Overlay -->
  <div id="overlay"
    class="fixed inset-0 bg-black/60 hidden z-40 transition-opacity duration-300"></div>
</div>
